{
	"info": {
		"_postman_id": "0a366f10-4f0e-4174-b5c8-b9d5ab5cb170",
		"name": "lab-9-ise-automation-collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "14223011",
		"_collection_link": "https://cisco6-8177.postman.co/workspace/Cisco-SE-Labs~a4b1269c-0645-4966-aeca-48565d4681d9/collection/14223011-0a366f10-4f0e-4174-b5c8-b9d5ab5cb170?action=share&source=collection_link&creator=14223011"
	},
	"item": [
		{
			"name": "ISE",
			"item": [
				{
					"name": "CERTIFICATES",
					"item": [
						{
							"name": "Import Trusted Certificate",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"allowBasicConstraintCAFalse\": true,\n  \"allowOutOfDateCert\": true,\n  \"allowSHA1Certificates\": true,\n  \"data\": \"\",\n  \"description\": \"DCLOUD ROOT CA CERTIFICATE\",\n  \"name\": \"DCLOUD ROOT CA CERTIFICATE\",\n  \"trustForCertificateBasedAdminAuth\": true,\n  \"trustForCiscoServicesAuth\": false,\n  \"trustForClientAuth\": true,\n  \"trustForIseAuth\": true,\n  \"validateCertificateExtensions\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ise}}/api/v1/certs/trusted-certificate/import",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"certs",
										"trusted-certificate",
										"import"
									]
								}
							},
							"response": []
						},
						{
							"name": "Generate CSR",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"allowWildCardCert\": false,\n  \"digestType\": \"SHA-512\",\n  \"hostnames\": [\n    \"ise\"\n  ],\n  \"keyLength\": \"4096\",\n  \"keyType\": \"RSA\",\n  \"sanDNS\": [\n    \"ise.dcloud.cisco.com\"\n  ],\n  \"sanIP\": [\n    \"198.18.133.27\"\n  ],\n  \"subjectCity\": \"SJC\",\n  \"subjectCommonName\": \"$FQDN$\",\n  \"subjectCountry\": \"US\",\n  \"subjectOrg\": \"CISCO\",\n  \"subjectOrgUnit\": \"DCLOUD\",\n  \"subjectState\": \"CA\",\n  \"usedFor\": \"MULTI-USE\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ise}}/api/v1/certs/certificate-signing-request",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"certs",
										"certificate-signing-request"
									]
								}
							},
							"response": []
						},
						{
							"name": "CSR Listing",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ise}}/api/v1/certs/certificate-signing-request",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"certs",
										"certificate-signing-request"
									]
								}
							},
							"response": []
						},
						{
							"name": "Bind CSR",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"admin\": true,\r\n  \"allowExtendedValidity\": true,\r\n  \"allowOutOfDateCert\": false,\r\n  \"allowReplacementOfCertificates\": true,\r\n  \"allowReplacementOfPortalGroupTag\": true,\r\n  \"data\": \"\",\r\n  \"eap\": true,\r\n  \"hostName\": \"ise\",\r\n  \"id\": \"\",\r\n  \"ims\": false,\r\n  \"name\": \"DCLOUD ISE SIGNED CERTIFICATE\",\r\n  \"portal\": false,\r\n  \"pxgrid\": true,\r\n  \"radius\": true,\r\n  \"saml\": false,\r\n  \"validateCertificateExtensions\": false\r\n}"
								},
								"url": {
									"raw": "https://{{ise}}/api/v1/certs/signed-certificate/bind",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"certs",
										"signed-certificate",
										"bind"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Backups",
					"item": [
						{
							"name": "RepositoryList",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{ise}}/api/v1/repository",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"repository"
									]
								}
							},
							"response": []
						},
						{
							"name": "LastBackupStatus",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{ise}}/api/v1/backup-restore/config/last-backup-status",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"backup-restore",
										"config",
										"last-backup-status"
									]
								}
							},
							"response": []
						},
						{
							"name": "TriggerBackup",
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {
									"content-type": true
								}
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"backupEncryptionKey\": \"\",\r\n  \"backupName\": \"\",\r\n  \"repositoryName\": \"\"\r\n}"
								},
								"url": {
									"raw": "https://{{ise}}/api/v1/backup-restore/config/backup",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"backup-restore",
										"config",
										"backup"
									]
								}
							},
							"response": []
						},
						{
							"name": "TaskStatus",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{ise}}/api/v1/task/a0203c40-51bd-11ee-b2e1-da3db17ec76a",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"api",
										"v1",
										"task",
										"a0203c40-51bd-11ee-b2e1-da3db17ec76a"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Active Directory",
					"item": [
						{
							"name": "AD Join Points",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "https://{{ise}}/ers/config/activedirectory",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"ers",
										"config",
										"activedirectory"
									]
								}
							},
							"response": []
						},
						{
							"name": "AD Create Join Point",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"ERSActiveDirectory\": {\r\n    \"adScopesNames\": \"Default_Scope\",\r\n    \"enableDomainAllowedList\": true,\r\n    \"domain\": \"dcloud.cisco.com\",\r\n    \"name\": \"DCLOUD-Active-Directory\",\r\n    \"description\": \"Active Directory of Cisco DCLOUD\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "https://{{ise}}/ers/config/activedirectory",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"ers",
										"config",
										"activedirectory"
									]
								}
							},
							"response": []
						},
						{
							"name": "AD Join Point Details",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "https://{{ise}}/ers/config/activedirectory/{{join-point-id}}",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"ers",
										"config",
										"activedirectory",
										"{{join-point-id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "AD Join a Join Point by ID",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										},
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"OperationAdditionalData\" : {\r\n    \"additionalData\" : [ {\r\n      \"name\" : \"username\",\r\n      \"value\" : \"admin\"\r\n    }, {\r\n      \"name\" : \"password\",\r\n      \"value\" : \"C1sco12345\"\r\n    }, {\r\n      \"name\" : \"node\",\r\n      \"value\" : \"ise.dcloud.cisco.com\"\r\n    } ]\r\n  }\r\n}"
								},
								"url": {
									"raw": "https://{{ise}}/ers/config/activedirectory/{{join-point-id}}/join",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"ers",
										"config",
										"activedirectory",
										"{{join-point-id}}",
										"join"
									]
								}
							},
							"response": []
						},
						{
							"name": "AD List of Domain Users",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"OperationAdditionalData\" : {\r\n    \"additionalData\" : [ {\r\n      \"name\" : \"domain\",\r\n      \"value\" : \"dcloud.cisco.com\"\r\n    } ]\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://198.18.133.27/ers/config/activedirectory/{{join-point-id}}/getDomainUsers",
									"protocol": "https",
									"host": [
										"198",
										"18",
										"133",
										"27"
									],
									"path": [
										"ers",
										"config",
										"activedirectory",
										"{{join-point-id}}",
										"getDomainUsers"
									]
								}
							},
							"response": []
						},
						{
							"name": "AD List of User Groups",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"OperationAdditionalData\" : {\r\n    \"additionalData\" : [ {\r\n      \"name\" : \"domain\",\r\n      \"value\" : \"dcloud.cisco.com\"\r\n    } ]\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://198.18.133.27/ers/config/activedirectory/{{join-point-id}}/getGroupsByDomain",
									"protocol": "https",
									"host": [
										"198",
										"18",
										"133",
										"27"
									],
									"path": [
										"ers",
										"config",
										"activedirectory",
										"{{join-point-id}}",
										"getGroupsByDomain"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "User Management",
					"item": [
						{
							"name": "Admin Users List",
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{ers-password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{ers-username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/ecmascript",
										"type": "text"
									}
								],
								"url": {
									"raw": "https://{{ise}}/ers/config/adminuser",
									"protocol": "https",
									"host": [
										"{{ise}}"
									],
									"path": [
										"ers",
										"config",
										"adminuser"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Catalyst Center",
			"item": []
		}
	]
}